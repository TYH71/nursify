"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.commands = void 0;
function commands() {
    return (ctx, next) => {
        ctx.setMyCommands = (commands) => {
            if (!ctx.chat)
                throw new Error("cannot call `ctx.setMyCommands` on an update with no `chat` property");
            return Promise.all(commands
                .toSingleScopeArgs({ type: "chat", chat_id: ctx.chat.id })
                .map((args) => ctx.api.raw.setMyCommands(args)));
        };
        return next();
    };
}
exports.commands = commands;
